---
title: "COMBINED_Taxi-Analysis"
author: "Steven Chao, Tanaya Kavathekar, Madhuri Yadav, Amna"
date: "10/10/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r basicfcn, include=F}
# can add quietly=T option to the require() function
loadPkg = function(x) { if (!require(x,character.only=T, quietly =T)) { install.packages(x,dep=T,repos="http://cran.us.r-project.org"); if(!require(x,character.only=T)) stop("Package not found") } }
```

```{r}
# This block is for MERGING THE DATASET
unprocessed_data = read.csv("../Data/trips_zones_20000.csv")


unprocessed_data['per_tip'] = unprocessed_data['tip_amount'] / unprocessed_data['fare_amount'] 


# removing outliers:
# fare amount in negative & credit card payments
processed_df <- unprocessed_data %>% filter((fare_amount > 0) & (payment_type == 1) & (passenger_count < 7))

per_tip_outliers <- boxplot(processed_df$per_tip, col = c("#0000FF"))

processed_df = processed_df[ !processed_df$per_tip %in% per_tip_outliers$out, ]

summary(processed_df)
```

####################################


```{r}
# TANAYA

# anova tests 
anova_tip_amount = aov(per_tip ~ passenger_count, data = processed_df)
summary(anova_tip_amount)
```

####################################


```{r}
# MADHURI

```

####################################


```{r}
# AMNA

```

####################################

```{r}
# STEVEN

```
####################################